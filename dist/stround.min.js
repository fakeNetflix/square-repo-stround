(function(g,l){if("function"===typeof define&&define.amd)define("stround",["exports"],l);else if("undefined"!==typeof exports)l(exports);else{var m={};l(m);g.stround=m}})(this,function(g){function l(a){var c=a.length;if(0===c)return"1";var b=parseInt(a[c-1],10);return 9===b?l(a.slice(0,c-1))+"0":a.slice(0,c-1)+(b+1)}function m(a){switch(a){case "NaN":case "Infinity":case "-Infinity":return null}var c=a.match(r);if(!c)throw Error("cannot round malformed number: "+a);return[void 0!==c[1],c[2],c[3]||
""]}function p(a){var c=q(a,3);a=c[0];var b=c[1],c=c[2];if(0===b.length)b="0";else{for(var d=void 0,d=0;d<b.length&&"0"===b[d];d++);d!==b.length&&(b=b.slice(d))}return(a?"-"+b:b)+(c.length?"."+c:"")}function n(a,c){var b=q(a,3),d=b[0],e=b[1],b=b[2],f=void 0;if(0<c){for(f=b.slice(0,c);f.length<c;)f+="0";e+=f;b=b.slice(c)}else if(0>c){for(;e.length<-c;)e="0"+e;f=e.slice(e.length+c);b=f+b;e=e.slice(0,e.length-f.length)}return[d,e,b]}Object.defineProperty(g,"__esModule",{value:!0});var q=function(){return function(a,
c){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a)){var b=[],d=!0,e=!1,f=void 0;try{for(var k=a[Symbol.iterator](),h;!(d=(h=k.next()).done)&&(b.push(h.value),!c||b.length!==c);d=!0);}catch(g){e=!0,f=g}finally{try{if(!d&&k["return"])k["return"]()}finally{if(e)throw f;}}return b}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}();g.parse=m;g.format=p;g.shiftParts=n;g.shift=function(a,c){"number"===typeof a&&(a=""+a);var b=m(a);return null===b?a:p(n(b,c))};g.round=
function(a,c,b){"number"===typeof a&&(a=""+a);if("string"!==typeof a)throw Error("expected a string or number, got: "+a);if(0===a.length)return a;if(null===c||void 0===c)c=0;void 0===b&&(b=h.HALF_EVEN);var d=m(a);if(null===d)return a;0<c&&(d=n(d,c));var e=q(d,3);a=e[0];d=e[1];e=e[2];switch(b){case h.CEILING:case h.FLOOR:case h.UP:for(var f=!1,k=0,g=e.length;k<g;k++)if("0"!==e[k]){f=!0;break}!f||b!==h.UP&&a===(b===h.CEILING)||(d=l(d));break;case h.HALF_EVEN:case h.HALF_DOWN:case h.HALF_UP:f=!1;k=parseInt(e[0],
10);if(5<k)f=!0;else if(5===k){b===h.HALF_UP&&(f=!0);if(!f)for(k=1,g=e.length;k<g;k++)if("0"!==e[k]){f=!0;break}f||b!==h.HALF_EVEN||(f=0!==parseInt(d[d.length-1],10)%2)}f&&(d=l(d))}return p(n([a,d,""],-c))};var h={CEILING:0,FLOOR:1,DOWN:2,UP:3,HALF_EVEN:4,HALF_DOWN:5,HALF_UP:6};g.modes=h;var r=/^(-)?(\d*)(?:\.(\d*))?$/});
